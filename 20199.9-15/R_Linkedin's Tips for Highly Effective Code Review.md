[翻译博文](https://thenewstack.io/linkedin-code-review/)

# LinkedIn's Tips for Highly Effective Code Review

领英最近通过了进行一百万次代码审查的里程碑。社交网络服务工具的负责人在此过程中分享了一些经验教训。

阅读和审查代码几乎是每个工程师每天都要做的事情。一个正式的代码审查流程是非常不同的，它要求每行代码在提交到生产环境前会被另一团队成员审查。在领英，自2011开始代码审查被强制成为部门任务的一部分。我们要求代码审查的目标是尽可能顺序的扩展我们的工程团队。好的代码审查是有意义的，有用的总结能真正的帮助我们提高整个团队水平。在领英，这些审查已经成为一项基本的质量保证和知识分享。拥抱代码审查已经改变了我们整个工程文化在几个重要的关键方面。

实行公司级的代码审查最大的好处之一是我们开发过程的标准化提高了。在领英的每个团队使用相同的工具和方法做代码审查，这意味着任何人都可以帮助其他团队的项目进行代码审查和代码贡献。这就会消除这个问题：“我能够在他们的代码中修复这个bug，但我应该何时修复并提交它们”。反过来，这有助于工程中不同团队的协作。

通过强制代码审查过程，我们也帮助公司培育了健康的回馈文化：在工作中工程师们是乐于输出输入的，并不只是敲代码，因为这在工作中已经变成了日常事务。工程师们并不把代码审查当做是一个临时的或者累赘的任务，而是把它看做一个提升的机会。实际上，高质量的代码审查在领英中也是一个重要的提升方式，因为他们表面了工程师们客观的技能。

过去的很多年，我们磨炼了一些好的练习和方法能给出真正的有价值的代码审查。以下是一些建议，在这些问题中，我们建议你确保代码审查者可以从代码审查中获取最大的价值。

## Do I Understand the “Why”？

为了尽可能的促进最好的代码审查和帮助你扩大团队规模，每行代码改变提交应该包含一个设计概述，简要的解释这个改变的动机。当需要推断出代码本身为什么改变时，是很难提供代码审查的。在做代码审查之前，期望提交者解释他们的动机是公平的。这也是对提交者在提交信息时的一种鼓励，增强代码文档的质量。

## Am I Giving Positive Feedback?

咋一个充满聪明人的组织里，干净的代码和整洁的测试覆盖率被认为是理所当然的。结果，代码审查反馈只专注于在代码中发现的问题。这是不幸的因为大多数人需要正向积极的反馈来提高他们的参与感--工程师也不列外。当代码审查者在代码中发现好的东西，他们就会把它拿出来作为一个正向的反馈。这能帮助提升团队的动力，并且这是具有“传染性的”。并且所有代码审查提交的内容，任何积极的反馈应该是具体的，解释为什么这个代码会被重写。

## Is My Code Review Comment Explained Well?

不管反馈是积极的还是消极的，所有的代码审查文档应该是很明了的。对于收到解释不佳的代码审查文档，审查者看起来显而易见的事情并不那么明确。当有疑问，提供更多的解释而不是简洁的反馈，因此会产生更多的问题，并需要来回沟通。说明可以使很多事情变得简单，减少重复、提高覆盖率、代码测试。为了使代码审查文档变得更简洁，这些说明能帮助加强团队期望见到的设计原则。

## Do I Appreciate the Submitter's Effort?

努力的工作总是需要欣赏，而不是只看结果--这将会培养强大的、很高积极性的团队。一些代码的改变并没有很高的质量，那这些就会被返工。在这种情况下，仍然承认作者为这个改变做出的努力是很重要的，即使代码需要返工。赞赏的最好方式是提供代码高质量的反馈和正确的解释，承认这个想法（总有好的东西在你提交的代码中），并且表示感谢！

## Would This Review Comment Be Useful to Me?

问这个问题是简单有用的方式验证这个代码审查是否有用。在这一天的结束，工程师应该查看代码审查用有帮助的工具，这不是工作繁忙的来源。如果你不认为这个指定的代码内容对你是有用的，那么删除它。典型的无用的代码审查文档就是与代码相关的注解格式。代码风格格式化应该被自动化工具验证，而不是工程师。

## Is the "Testing Done" Section Thorough Enough?

在领英，每行代码改变提交都有一个强制性的测试完成小节需要填写。在开源世界里，使用Github，工程师可以提交“测试完结”信息在提交的描述里。什么时候应该“测试完结”取决于这个改变的重要性和当前覆盖的等级。如果这个改变包含新的或者有复杂条件的，用单元测试测试这是公平的。一些改变要求用手册测试如果集成测试不足的话。在这些场景，“测试完结”应该包含测试场景和输出。当改变了程序的输出，这是非常有用的在“测试完结”小结里包含新的输出。

## Am I Too Pedantic in My Review?

一些代码审查有很多重要问题的内容--有些必须解决的问题在不是那么重要的问题中丢失。代码审查有很多细节对于一个团队来讲，可能减少审查周期导致审查者与被审查者之间发生摩擦。有一个清晰的代码审查计划，审查案例，和一个积极的，诱人的审查文化是避免长的疲惫的审查周期的有效方式。



总之，有一个正式的代码审查流程会帮助你提升代码质量，团队学习，和知识分享。工作质量的提升当每个在团队的工程师意识到两件重要的事情：有人将会阅读我的代码，所以它必须更好一点；我将会标记任何我收到的代码审查，所以我应该尝试是我的代码更好。当代码审查变成每一天的习惯，这个团队练习就会每天给予和收到反馈。这是成长和发展的关键。

在领英，我们学习到很多从过去的百万行代码审查中，并且我们希望将会在下一个百万行代码中学到更多。我们在代码审查中花费越多，我们团队就会从中获得更多。更高质量的代码检查，更高质量的产品产生。高质量的代码审查是会传染的。



























