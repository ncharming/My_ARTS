# 项目部分踩坑

目前我任职于一个CRM系统的开发成员，对，没有很高深的技术或技巧。就是单纯对日常开发容易出现的部分问题进行总结。

## 实体类

### 1

我们采用的是 SpringBoot 框架，在 Controller 层引用实体类（一般会把实体类当做出入参，其实就是 JOSN），加入我们没有对实体类进行初始化，而且通过调用的Service层接口也没有返回数据，那么在下面的逻辑中使用这个实体类中的set/get方法就会报错「因为，你没有实例化一个类，对象都没有，怎么能去调用这个对象的方法呢！」；**所以一般最好在引用实体类的时候就 new 一下，**保证不管有没有数据返回都创建了对象。

### 2

一般实体类作为出参返回都是一个 JSON 串，当这个 JSON 串的层级很多，那么在 Java 代码中也是要对应这么多的实体类层级。这个时候，我们可能需要某个层级（或者直接需要最里面那个层级的数据）的数据，那么这个时候也最好要判空一下，否则，假如没有返回数据，也会报NPE。

## switch

当前台需要你返回的数据字段是中文的时候：

>比如，payStyle 字段，数据库中是 AliPay、wechatPay 这种方式，但前台展示需要变成支付宝、微信。

这个时候使用switch即可「隐患在此」，但是假如这个字段返回为空，那么就会报 NPE。所以在获得这个字段的时候，**最好判断一下此字段是否为空。**