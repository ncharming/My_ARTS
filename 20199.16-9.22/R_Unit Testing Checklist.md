Unit Testing Checklist：Keep Your Tests Useful and Avoid Big Mistakes

[翻译文档](https://dzone.com/articles/unit-testing-checklist)

单元测试是一系列频繁执行的方法来验证你的代码。按照以下顺序写你的代码通常是个好主意：

1.写一个类的API

2.写一个方法测试这个API

3.实现这个API

4.执行这个单元测试

为什么编写单元测试？他们验证当前和未来的实现。他们保证代码的质量。他们迫使你写可测试的、松散耦合的代码。他们比手动回归测试便宜的多。他们给你的代码带来自信，帮助你的团队工作。

为什么使用一个检查列表？单元测试比实现更难。单元测试强迫你真正的思考。但是单元测试应该保持简洁、直接、容易阅读的。你也应该知道什么时候停止写单元测试和开始写实现类。

使用这个检查列表确保你的测试是真的有用的。记住：这个检查列表能够帮助你避免大错误，但是你必须保证遵循如下：

+ 你的测试类只能测试一个类
  + 你正在测试的类API确保遵守规则

+ 一个测试方法在同一时间只能测试一个方法
  + 确保不要测试私有方法，他们对于实现类的细节是隐藏的，不是一个API

+ 变量名和方法名都是明确的
+ 我的测试案例是易理解的
  + 未来编写代码的人可能会阅读你的测试在阅读你的实现类之前。这将会帮助他们理解这个类API在改动或者调试它之前

+ 我的测试遵守通常的代码准则
  + 测试方法中应该没有流量控制（switch、if 等）。 良好的测试只是非常简单的设置/验证指令序列。 如有必要，请使用子方法进行因子分解，并使测试更易于阅读。 在多种情况下，请使用多种测试方法（每种情况下使用一种）。

+ 我的测试也测试异常
  + 在Java中，使用@Test（excepted=MyException.class）

+ 我的测试不需要连接数据库

+ 我的测试不需要网络资源
+ 我的测试控制副作用，极限值（最大、最小）和空变量（即使他们抛出异常）
+ 我的测试能够在任何时间，任何地点执行，不需要配置或者人为环境
+ 我的测试通过当前实现是很容易发展的
+ 我的测试是具体的
+ 我的测试使用mock模拟复杂的类结构或方法
+ 我的测试从不忽略任何东西
+ 我的测试帮助我验证我的结构
+ 我的测试能够在任何支持的平台上运行，不仅仅是目标平台
+ 我的测试快如闪电





